## íŠ¸ë¦¬ - dfs

[ë¬¸ì œë§í¬](https://www.acmicpc.net/problem/4803)

### ğŸ™ ë¬¸ì œ

ê·¸ë˜í”„ëŠ” ì •ì ê³¼ ê°„ì„ ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. ë‘ ì •ì  ì‚¬ì´ì— ê²½ë¡œê°€ ìˆë‹¤ë©´, ë‘ ì •ì ì€ ì—°ê²°ë˜ì–´ ìˆë‹¤ê³  í•œë‹¤. ì—°ê²° ìš”ì†ŒëŠ” ëª¨ë“  ì •ì ì´ ì„œë¡œ ì—°ê²°ë˜ì–´ ìˆëŠ” ì •ì ì˜ ë¶€ë¶„ì§‘í•©ì´ë‹¤. ê·¸ë˜í”„ëŠ” í•˜ë‚˜ ë˜ëŠ” ê·¸ ì´ìƒì˜ ì—°ê²° ìš”ì†Œë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.

íŠ¸ë¦¬ëŠ” ì‚¬ì´í´ì´ ì—†ëŠ” ì—°ê²° ìš”ì†Œì´ë‹¤. íŠ¸ë¦¬ì—ëŠ” ì—¬ëŸ¬ ì„±ì§ˆì´ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, íŠ¸ë¦¬ëŠ” ì •ì ì´ nê°œ, ê°„ì„ ì´ n-1ê°œ ìˆë‹¤. ë˜, ì„ì˜ì˜ ë‘ ì •ì ì— ëŒ€í•´ì„œ ê²½ë¡œê°€ ìœ ì¼í•˜ë‹¤.

ê·¸ë˜í”„ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, íŠ¸ë¦¬ì˜ ê°œìˆ˜ë¥¼ ì„¸ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

### âŒ¨ï¸ ì…ë ¥

ì…ë ¥ì€ ì—¬ëŸ¬ ê°œì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤. ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì²«ì§¸ ì¤„ì—ëŠ” n â‰¤ 500ê³¼ m â‰¤ n(n-1)/2ì„ ë§Œì¡±í•˜ëŠ” ì •ì ì˜ ê°œìˆ˜ nê³¼ ê°„ì„ ì˜ ê°œìˆ˜ mì´ ì£¼ì–´ì§„ë‹¤. ë‹¤ìŒ mê°œì˜ ì¤„ì—ëŠ” ê°„ì„ ì„ ë‚˜íƒ€ë‚´ëŠ” ë‘ ê°œì˜ ì •ìˆ˜ê°€ ì£¼ì–´ì§„ë‹¤. ê°™ì€ ê°„ì„ ì€ ì—¬ëŸ¬ ë²ˆ ì£¼ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤. ì •ì ì€ 1ë²ˆë¶€í„° në²ˆê¹Œì§€ ë²ˆí˜¸ê°€ ë§¤ê²¨ì ¸ ìˆë‹¤. ì…ë ¥ì˜ ë§ˆì§€ë§‰ ì¤„ì—ëŠ” 0ì´ ë‘ ê°œ ì£¼ì–´ì§„ë‹¤.

### ğŸ¨ ì¶œë ¥

ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§„ ê·¸ë˜í”„ì— íŠ¸ë¦¬ê°€ ì—†ë‹¤ë©´ "No trees."ë¥¼, í•œ ê°œë¼ë©´ "There is one tree."ë¥¼, Tê°œ(T > 1)ë¼ë©´ "A forest of T trees."ë¥¼ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë²ˆí˜¸ì™€ í•¨ê»˜ ì¶œë ¥í•œë‹¤.

### ğŸ’» ì œì¶œ ì½”ë“œ

```javascript
const fs = require("fs");
const filePath = process.platform === "linux" ? "/dev/stdin" : "./input.txt";
let input = fs.readFileSync(filePath).toString().split("\n");

let line = 0;
let caseNum = 1;

while (true) {
  const [n, m] = input[line].split(" ").map(Number);
  if (n == 0 && m == 0) break;

  const graph = [];
  for (let i = 1; i <= n; i++) graph[i] = [];
  for (let i = 1; i <= m; i++) {
    const [x, y] = input[line + i].split(" ").map(Number);
    graph[x].push(y);
    graph[y].push(x);
  }

  const visited = new Array(n + 1).fill(false);
  let cnt = 0;
  const isCycle = (x, prev) => {
    visited[x] = true; // ë°©ë¬¸ ì²˜ë¦¬
    // ì¸ì ‘ ë…¸ë“œ
    for (let num of graph[x]) {
      // ë°©ë¬¸í•˜ì§€ ì•Šì•˜ë‹¤ë©´
      if (!visited[num]) {
        if (isCycle(num, x)) return true;
      }
      // ì´ë¯¸ ë°©ë¬¸, ì¬ê·€ í˜¸ì¶œ ë…¸ë“œê°€ ì „ ë…¸ë“œê°€ ì•„ë‹ì‹œ ì‚¬ì´í´
      else if (num !== prev) return true;
    }
    return false;
  };

  for (let i = 1; i <= n; i++) {
    if (!visited[i]) {
      if (!isCycle(i, 0)) cnt++;
    }
  }
  if (cnt == 0) console.log(`Case ${caseNum}: No trees.`);
  else if (cnt == 1) console.log(`Case ${caseNum}: There is one tree.`);
  else console.log(`Case ${caseNum}: A forest of ${cnt} trees.`);
  line += m + 1;
  caseNum++;
}
```
